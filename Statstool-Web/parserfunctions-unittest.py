from statstool_web.parserfunctions import *
import unittest
from test_string import *

content = 	"""	SWE={
		has_set_government_name=yes
		government_rank=2
		government_name="default_monarchy"
		subject_focus=0
		trade_mission=0.350
		blockade_mission=0.000
		continent={
			1 0 0 0 0 0 0
		}
		institutions={
			1 1 1 1 0 0 0 0
		}
		num_of_age_objectives=0
		active_age_ability="ab_institution_spread_from_true_faith"
		last_focus_move=1547.12.5
		last_sent_alliance_offer=1572.5.9
		history={
			government=monarchy
			add_government_reform="feudalism_reform"
			technology_group=western
			unit_type=western
			primary_culture=swedish
			religion=catholic
			add_accepted_culture=finnish
			capital=1
			national_focus=MIL
			1.1.1={
				union=2408
			}
			1444.11.11={
				monarch={
					id={
						id=12303
						type=48
					}
					name="Karl VIII"
					country="SWE"
					DIP=2
					ADM=4
					MIL=2
					culture=swedish
					religion=catholic
					dynasty="Brahe"
					birth_date=1426.11.11
				}
				monarch={
					id={
						id=2408
						type=48
					}
					name="Christopher III"
					country="DAN"
					DIP=2
					ADM=3
					MIL=2
					culture=bavarian
					religion=catholic
					personalities={
						infertile_personality=yes
						midas_touched_personality=yes
						calm_personality=yes
					}
					has_declared_war={
						date=1468.2.13
						war="D�nische Eroberung von Lettgallen"
					}
					ruler_flags={
						consort_had_affection_of_ruler=1468.9.25
						widow_widower=1468.9.25
					}
					dynasty="von Wittelsbach"
					birth_date=1416.2.26
				}
			}
			1444.11.12={
				capital=1
				changed_country_name_from="Schweden"
				changed_country_adjective_from="Schwedisch"
				changed_country_mapcolor_from={
					8 82 165
				}
			}
			1444.12.5={
				national_focus=none
			}
			1445.1.31={
				queen={
					id={
						id=12637
						type=48
					}
					name="Ada"
					country="DAN"
					DIP=2
					ADM=1
					MIL=3
					female=yes
					culture=lower_saxon
					religion=catholic
					personalities={
						zealot_personality=yes
					}
					ruler_flags={
						consort_has_impressed_with_adm_personality=1449.1.11
						royal_couple_shared_adm_interests=1463.11.17
						consort_has_affection_of_ruler=1463.11.17
					}
					dynasty="von Schauenburg"
					birth_date=1416.10.5
					consort=yes
					monarch_name="Ada"
					country_of_origin=SHL
				}
			}
			1447.3.3={
				leader={
					name="Rangvald Gustavsson"
					type=admiral
					fire=2
					shock=4
					personality=naval_showman_personality
					activation=1447.3.3
					birth_date=1411.5.6
					id={
						id=4305
						type=49
					}
				}
			}
			1447.3.5={
				leader={
					name="Gustav Adlercreutz"
					type=admiral
					manuever=2
					fire=4
					siege=1
					activation=1447.3.5
					birth_date=1419.1.18
					id={
						id=4307
						type=49
					}
				}
			}
			1448.5.31={
				heir={
					id={
						id=12938
						type=48
					}
					name="Christian I"
					country="DAN"
					DIP=4
					ADM=5
					MIL=4
					culture=bavarian
					religion=catholic
					personalities={
						lawgiver_personality=yes
						zealot_personality=yes
						secretive_personality=yes
					}
					has_declared_war={
						date=1496.12.7
						war="Danish-Lithuanian Border War"
					}
					leader_id={
						id=9972
						type=49
					}
					leader={
						name="Christian I von Wittelsbach"
						type=general
						shock=4
						personality=hardy_warrior_personality
						monarch_id={
							id=12938
							type=48
						}
						activation=1490.9.3
						birth_date=1461.6.14
						id={
							id=9972
							type=49
						}
					}
					ruler_flags={
						widow_widower=1503.4.18
					}
					dynasty="von Wittelsbach"
					birth_date=1448.5.31
					succeeded=yes
					claim=100
					monarch_name="Christian I"
				}
			}
			1448.10.5={
				leader={
					name="Bengt Armfeldt"
					type=general
					manuever=2
					fire=1
					shock=2
					siege=1
					activation=1448.10.5
					birth_date=1416.4.17
					id={
						id=4436
						type=49
					}
				}
			}
			1458.7.2={
				leader={
					name="Gottfrid Lewenhaupt"
					type=admiral
					manuever=2
					fire=1
					shock=2
					personality=accomplished_sailor_personality
					activation=1458.7.2
					birth_date=1433.5.10
					id={
						id=5597
						type=49
					}
				}
			}
			1468.9.25={
				monarch_heir={
					id={
						id=12938
						type=48
					}
					name="Christian I"
					country="DAN"
					DIP=4
					ADM=5
					MIL=4
					culture=bavarian
					religion=catholic
					personalities={
						lawgiver_personality=yes
						zealot_personality=yes
						secretive_personality=yes
					}
					has_declared_war={
						date=1496.12.7
						war="Danish-Lithuanian Border War"
					}
					leader_id={
						id=9972
						type=49
					}
					leader={
						name="Christian I von Wittelsbach"
						type=general
						shock=4
						personality=hardy_warrior_personality
						monarch_id={
							id=12938
							type=48
						}
						activation=1490.9.3
						birth_date=1461.6.14
						id={
							id=9972
							type=49
						}
					}
					ruler_flags={
						widow_widower=1503.4.18
					}
					dynasty="von Wittelsbach"
					birth_date=1448.5.31
					succeeded=yes
					claim=100
					monarch_name="Christian I"
				}
			}
			1469.12.5={
				organised_mercenary_payment=yes
			}
			1469.12.31={
				leader={
					name="Einar Wrangel"
					type=admiral
					manuever=1
					shock=1
					activation=1469.12.31
					birth_date=1447.12.11
					id={
						id=6891
						type=49
					}
				}
			}
			1471.1.1={
				heir={
					id={
						id=13638
						type=48
					}
					name="Christian II"
					country="DAN"
					DIP=0
					ADM=1
					MIL=3
					culture=danish
					religion=catholic
					personalities={
						conqueror_personality=yes
						greedy_personality=yes
					}
					has_declared_war={
						date=1506.10.10
						war="Swedish War for Independence"
					}
					leader_id={
						id=12190
						type=49
					}
					leader={
						name="Christian II von Wittelsbach"
						type=general
						fire=2
						shock=2
						monarch_id={
							id=13638
							type=48
						}
						activation=1505.1.3
						birth_date=1481.7.4
						id={
							id=12190
							type=49
						}
					}
					ruler_flags={
						helped_spouses_family=1522.3.27
					}
					dynasty="von Wittelsbach"
					birth_date=1471.1.1
					succeeded=yes
					claim=30
					monarch_name="Christian II"
				}
				queen={
					id={
						id=13639
						type=48
					}
					name="Dorothea"
					country="DAN"
					DIP=5
					ADM=5
					MIL=6
					female=yes
					culture=bavarian
					religion=catholic
					personalities={
						drunkard_personality=yes
					}
					dynasty="Adeler"
					birth_date=1447.3.6
					consort=yes
					monarch_name="Dorothea"
					country_of_origin=DAN
				}
			}
			1474.2.5={
				adaptability=yes
			}
			1475.3.13={
				leader={
					name="Erik Hahn"
					type=general
					manuever=3
					fire=1
					activation=1475.3.13
					birth_date=1456.7.12
					id={
						id=7746
						type=49
					}
				}
			}
			1478.4.5={
				national_focus=ADM
			}
			1479.8.5={
				decision="de_heretico_comburendo_act"
			}
			1482.7.5={
				benefits_for_mercenaries=yes
			}
			1482.11.30={
				leader={
					name="Olof Wachtmeister"
					type=admiral
					manuever=1
					siege=1
					activation=1482.11.30
					birth_date=1460.4.13
					id={
						id=8926
						type=49
					}
				}
			}
			1484.12.30={
				leader={
					name="Magnus Andersson"
					type=admiral
					manuever=1
					fire=4
					shock=2
					activation=1484.12.30
					birth_date=1461.2.13
					id={
						id=9234
						type=49
					}
				}
			}
			1486.9.10={
				battlefield_commisions=yes
			}
			1488.6.5={
				military_drill=yes
			}
			1489.10.5={
				bookkeeping=yes
			}
			1492.11.5={
				organised_mercenary_recruitment=yes
			}
			1494.8.15={
				leader={
					name="Adolf Johan von Ascheberg"
					type=admiral
					manuever=5
					shock=2
					activation=1494.8.15
					birth_date=1467.4.14
					id={
						id=10661
						type=49
					}
				}
			}
			1495.7.5={
				administrative_efficiency_idea=yes
			}
			1496.12.8={
				leader={
					name="Inge Hastfer"
					type=general
					manuever=3
					fire=3
					shock=1
					personality=glory_seeker_personality
					activation=1496.12.8
					birth_date=1462.10.28
					id={
						id=11007
						type=49
					}
				}
			}
			1498.3.5={
				civil_servants=yes
			}
			1498.4.5={
				national_focus=none
			}
			1499.12.5={
				improved_manuever=yes
			}
			1501.6.19={
				leader={
					name="Henrik Trolle"
					type=admiral
					fire=2
					shock=1
					activation=1501.6.19
					birth_date=1464.7.8
					id={
						id=11682
						type=49
					}
				}
			}
			1502.4.5={
				decision="blasphemy_act"
			}
			1503.4.18={
				monarch_heir={
					id={
						id=13638
						type=48
					}
					name="Christian II"
					country="DAN"
					DIP=0
					ADM=1
					MIL=3
					culture=danish
					religion=catholic
					personalities={
						conqueror_personality=yes
						greedy_personality=yes
					}
					has_declared_war={
						date=1506.10.10
						war="Swedish War for Independence"
					}
					leader_id={
						id=12190
						type=49
					}
					leader={
						name="Christian II von Wittelsbach"
						type=general
						fire=2
						shock=2
						monarch_id={
							id=13638
							type=48
						}
						activation=1505.1.3
						birth_date=1481.7.4
						id={
							id=12190
							type=49
						}
					}
					ruler_flags={
						helped_spouses_family=1522.3.27
					}
					dynasty="von Wittelsbach"
					birth_date=1471.1.1
					succeeded=yes
					claim=30
					monarch_name="Christian II"
				}
			}
			1504.4.5={
				regimental_system=yes
			}
			1505.1.30={
				heir={
					id={
						id=14785
						type=48
					}
					name="Frederik I"
					country="DAN"
					DIP=3
					ADM=2
					MIL=0
					culture=danish
					religion=catholic
					personalities={
						cruel_personality=yes
						industrious_personality=yes
					}
					ai_wont_abdicate=yes
					leader_id={
						id=14510
						type=49
					}
					leader={
						name="Frederik I von Wittelsbach"
						type=general
						manuever=2
						fire=2
						monarch_id={
							id=14785
							type=48
						}
						activation=1523.2.2
						birth_date=1505.10.30
						id={
							id=14510
							type=49
						}
					}
					ruler_flags={
						widow_widower=1538.10.21
					}
					dynasty="von Wittelsbach"
					birth_date=1505.1.30
					succeeded=yes
					claim=100
					monarch_name="Frederik I"
				}
				queen={
					id={
						id=14786
						type=48
					}
					name="Dorothea"
					country="DAN"
					DIP=3
					ADM=3
					MIL=4
					female=yes
					culture=danish
					religion=catholic
					personalities={
						conqueror_personality=yes
					}
					ruler_flags={
						consort_has_impressed_with_mil_personality=1505.11.27
					}
					dynasty="Vind"
					birth_date=1474.10.22
					consort=yes
					monarch_name="Dorothea"
					country_of_origin=DAN
				}
			}
			1506.10.10={
				monarch={
					id={
						id=14822
						type=48
					}
					name="Karl VIII"
					country="SWE"
					DIP=4
					ADM=0
					MIL=4
					culture=swedish
					religion=catholic
					personalities={
						sinner_personality=yes
						calm_personality=yes
						inspiring_leader_personality=yes
					}
					ruler_flags={
						widow_widower=1522.5.1
						accepted_help_from_spouses_family=1546.5.7
					}
					dynasty="Soop"
					birth_date=1485.10.10
				}
			}
			1507.7.1={
				leader={
					name="Simon Adlercreutz"
					type=admiral
					fire=2
					shock=3
					siege=1
					activation=1507.7.1
					birth_date=1477.1.30
					id={
						id=12483
						type=49
					}
				}
			}
			1508.2.1={
				leader={
					name="Christoph Skytte"
					type=admiral
					fire=1
					shock=3
					activation=1508.2.1
					birth_date=1479.3.24
					id={
						id=12559
						type=49
					}
				}
			}
			1508.7.26={
				heir={
					id={
						id=14868
						type=48
					}
					name="Karl"
					country="SWE"
					DIP=5
					ADM=3
					MIL=4
					culture=swedish
					religion=catholic
					personalities={
						conqueror_personality=yes
					}
					dynasty="Soop"
					birth_date=1508.7.26
					claim=89
					monarch_name="Karl IX"
				}
				queen={
					id={
						id=14869
						type=48
					}
					name="Christina"
					country="SWE"
					DIP=2
					ADM=3
					MIL=2
					female=yes
					culture=swedish
					religion=catholic
					personalities={
						entrepreneur_personality=yes
					}
					dynasty="Hjort"
					birth_date=1485.11.15
					consort=yes
					monarch_name="Christina"
					country_of_origin=SWE
				}
			}
			1515.11.13={
				leader={
					name="Knut Ribbing"
					type=admiral
					manuever=1
					fire=1
					shock=2
					activation=1515.11.13
					birth_date=1487.6.4
					id={
						id=13642
						type=49
					}
				}
			}
			1517.8.5={
				defensive_mentality=yes
			}
			1521.9.27={
				leader={
					name="Alfred Wrangel"
					type=admiral
					manuever=3
					fire=3
					shock=1
					activation=1521.9.27
					birth_date=1486.9.10
					id={
						id=14334
						type=49
					}
				}
			}
			1522.5.5={
				supply_trains=yes
			}
			1526.8.5={
				improved_foraging=yes
			}
			1527.11.5={
				national_focus=ADM
			}
			1527.11.10={
				merchant_traditions=yes
			}
			1527.11.15={
				merchant_marine=yes
			}
			1527.12.5={
				decision="conventicle_act"
			}
			1528.4.5={
				sheltered_ports=yes
			}
			1529.6.8={
				leader={
					name="Fredrik Adolf Tott"
					type=admiral
					manuever=3
					fire=3
					shock=1
					activation=1529.6.8
					birth_date=1499.11.18
					id={
						id=15313
						type=49
					}
				}
			}
			1529.12.5={
				decision="join_the_counter_reformation"
			}
			1531.4.11={
				leader={
					name="Karl Leijonhufvud"
					type=general
					manuever=4
					fire=2
					shock=3
					activation=1531.4.11
					birth_date=1502.1.24
					id={
						id=15527
						type=49
					}
				}
			}
			1534.8.5={
				grand_navy=yes
			}
			1543.2.11={
				heir={
					id={
						id=15791
						type=48
					}
					name="Caterine I"
					country="SWE"
					DIP=3
					ADM=3
					MIL=4
					female=yes
					culture=swedish
					religion=catholic
					personalities={
						careful_personality=yes
					}
					has_declared_war={
						date=1560.9.20
						war="Swedish Conquest of Kexholm"
					}
					dynasty="Soop"
					birth_date=1543.2.11
					succeeded=yes
					claim=50
					monarch_name="Caterine I"
				}
				queen={
					id={
						id=15792
						type=48
					}
					name="Hedwig"
					country="SWE"
					DIP=4
					ADM=1
					MIL=3
					female=yes
					regent=yes
					queen_regent=yes
					culture=swedish
					religion=catholic
					personalities={
						infertile_personality=yes
						sinner_personality=yes
					}
					dynasty="Tre Sj�blad"
					birth_date=1516.4.11
					consort=yes
					succeeded=yes
					monarch_name="Hedwig"
					country_of_origin=SWE
				}
			}
			1546.6.5={
				ships_penny=yes
			}
			1547.3.14={
				leader={
					name="Edvard Wrangel"
					type=admiral
					manuever=2
					fire=1
					shock=4
					personality=accomplished_sailor_personality
					activation=1547.3.14
					birth_date=1507.10.14
					id={
						id=17479
						type=49
					}
				}
			}
			1547.3.17={
				leader={
					name="Karl Johan Oxenstierna"
					type=general
					manuever=4
					fire=3
					shock=2
					siege=1
					country="SWE"
					personality=glory_seeker_personality
					activation=1547.3.17
					birth_date=1506.5.20
					id={
						id=17480
						type=49
					}
				}
			}
			1547.11.8={
				monarch_consort={
					id={
						id=15792
						type=48
					}
					name="Hedwig"
					country="SWE"
					DIP=4
					ADM=1
					MIL=3
					female=yes
					regent=yes
					queen_regent=yes
					culture=swedish
					religion=catholic
					personalities={
						infertile_personality=yes
						sinner_personality=yes
					}
					dynasty="Tre Sj�blad"
					birth_date=1516.4.11
					consort=yes
					succeeded=yes
					monarch_name="Hedwig"
					country_of_origin=SWE
				}
			}
			1547.12.5={
				national_focus=none
			}
			1550.8.2={
				leader={
					name="Sigvard Klingspor"
					type=admiral
					fire=1
					shock=2
					activation=1550.8.2
					birth_date=1523.12.9
					id={
						id=17862
						type=49
					}
				}
			}
			1557.8.5={
				sea_hawks=yes
			}
			1558.2.11={
				monarch_heir={
					id={
						id=15791
						type=48
					}
					name="Caterine I"
					country="SWE"
					DIP=3
					ADM=3
					MIL=4
					female=yes
					culture=swedish
					religion=catholic
					personalities={
						careful_personality=yes
					}
					has_declared_war={
						date=1560.9.20
						war="Swedish Conquest of Kexholm"
					}
					dynasty="Soop"
					birth_date=1543.2.11
					succeeded=yes
					claim=50
					monarch_name="Caterine I"
				}
			}
			1559.5.20={
				queen={
					id={
						id=16160
						type=48
					}
					name="Johann"
					country="SWE"
					DIP=5
					ADM=3
					MIL=5
					regent=yes
					queen_regent=yes
					culture=franconian
					religion=catholic
					personalities={
						loose_lips_personality=yes
					}
					dynasty="von J�lich"
					birth_date=1533.10.10
					consort=yes
					succeeded=yes
					monarch_name="Johann"
					country_of_origin=FKN
				}
			}
			1559.9.28={
				leader={
					name="Mikael Dufwa"
					type=general
					manuever=4
					fire=1
					shock=1
					activation=1559.9.28
					birth_date=1522.6.29
					id={
						id=18899
						type=49
					}
				}
			}
			1559.10.3={
				leader={
					name="Olof Palmstruch"
					type=admiral
					manuever=1
					fire=2
					shock=1
					siege=1
					country="SWE"
					activation=1559.10.3
					birth_date=1532.3.2
					id={
						id=18902
						type=49
					}
				}
			}
			1559.10.9={
				heir={
					id={
						id=16166
						type=48
					}
					name="Sigismund I"
					country="SWE"
					DIP=5
					ADM=1
					MIL=2
					culture=swedish
					religion=catholic
					personalities={
						secretive_personality=yes
					}
					dynasty="Soop"
					birth_date=1559.10.9
					succeeded=yes
					claim=82
					monarch_name="Sigismund I"
				}
			}
			1560.9.23={
				leader={
					name="Adolf Johan von Essen"
					type=admiral
					manuever=1
					shock=1
					siege=1
					country="SWE"
					activation=1560.9.23
					birth_date=1539.7.7
					id={
						id=19023
						type=49
					}
				}
			}
			1561.1.11={
				leader={
					name="Olof Bagge"
					type=admiral
					fire=1
					shock=1
					siege=1
					country="SWE"
					activation=1561.1.11
					birth_date=1536.3.5
					id={
						id=19046
						type=49
					}
				}
			}
			1562.8.5={
				naval_fighting_instruction=yes
			}
			1562.9.5={
				decision="enlist_privateers"
			}
			1566.4.9={
				monarch_consort={
					id={
						id=16160
						type=48
					}
					name="Johann"
					country="SWE"
					DIP=5
					ADM=3
					MIL=5
					regent=yes
					queen_regent=yes
					culture=franconian
					religion=catholic
					personalities={
						loose_lips_personality=yes
					}
					dynasty="von J�lich"
					birth_date=1533.10.10
					consort=yes
					succeeded=yes
					monarch_name="Johann"
					country_of_origin=FKN
				}
			}
			1572.5.5={
				bayonet_leaders=yes
			}
			1574.10.9={
				monarch_heir={
					id={
						id=16166
						type=48
					}
					name="Sigismund I"
					country="SWE"
					DIP=5
					ADM=1
					MIL=2
					culture=swedish
					religion=catholic
					personalities={
						secretive_personality=yes
					}
					dynasty="Soop"
					birth_date=1559.10.9
					succeeded=yes
					claim=82
					monarch_name="Sigismund I"
				}
				heir={
					id={
						id=16511
						type=48
					}
					name="Gustav"
					country="SWE"
					DIP=5
					ADM=0
					MIL=2
					culture=swedish
					religion=catholic
					personalities={
						cruel_personality=yes
					}
					dynasty="Soop"
					birth_date=1560.10.9
					claim=100
					monarch_name="Gustav I"
				}
			}
		}
		flags={
			SWE_had_event_3219=1499.8.10
			last_jousting_tournament_held=1478.3.28
			bible_translated=1524.8.22
			in_laws_provide_dip_advisor=1509.3.13
			normal_court_life=1514.9.13
			recent_land_seizure=1555.10.5
			military_reform=1571.5.2
		}
		hidden_flags={
			has_won_war=1568.3.18
		}
		variables={
			consort_admVar=3.000
			consort_dipVar=5.000
			consort_milVar=5.000
			new_ruler_culture=-1.000
			new_ruler_religion=-1.000
			num_converted_religion=1.000
			other_advisor_culture=-1.000
		}
		capital=1
		original_capital=1
		trade_port=1
		base_tax=79.000
		development=173.536
		raw_development=188.000
		capped_development=188.000
		realm_development=173.536
		used_governing_capacity=150.380
		isolationism=1
		initialized_rivals=yes
		recalculate_strategy=no
		colors={
			revolutionary_colors={
				13 8 13
			}
			map_color={
				8 82 165
			}
			country_color={
				8 82 165
			}
		}
		dirty_colony=yes
		primary_culture=swedish
		dominant_culture=swedish
		accepted_culture=finnish
		religion=catholic
		dominant_religion=catholic
		technology_group=western
		unit_type=western
		technology={
			adm_tech=14
			dip_tech=14
			mil_tech=14
		}
		estate={
			type="estate_church"
			loyalty=51.800
			territory=7.713
			influence_modifier={
				value=10.000
				desc="EST_VAL_CHURCH_ADVANCE"
				date=1584.11.7
			}
			influence_modifier={
				value=5.000
				desc="EST_VAL_CARDINAL_IN_ADMINISTRATION"
				date=1594.9.24
			}
			granted_privileges={
				{
estate_church_independent_inquisition 1444.11.16				}
 {
estate_church_clerical_oversight 1444.11.13				}

			}
		}
		estate={
			type="estate_nobles"
			loyalty=53.800
			territory=42.280
			granted_privileges={
				{
estate_nobles_levies 1444.11.12				}
 {
estate_nobles_right_of_counsel 1444.11.14				}

			}
		}
		estate={
			type="estate_burghers"
			loyalty=56.900
			territory=15.970
			influence_modifier={
				value=-10.000
				desc="EST_VAL_BURGHERS_DECLINE"
				date=1589.11.12
			}
			active_influences={
				1 2 4
			}
			granted_privileges={
				{
estate_burghers_commercial_board_of_advice 1503.4.18				}
 {
estate_burghers_free_enterprise 1444.11.15				}

			}
		}
		interactions_last_used={
{
2 1555.10.5			}
		}
		rival={
			country="DAN"
			date=1511.9.30
		}
		rival={
			country="ZAZ"
			date=1546.7.14
		}
		rival={
			country="SAX"
			date=1568.4.12
		}
		highest_possible_fort=4
		highest_possible_fort_building="fort_16th"
		transfer_home_bonus=0.100
		enemy="DAN"
		enemy="ZAZ"
		enemy="SAX"
		num_of_war_reparations=1
		preferred_coalition_target="DTT"
		preferred_coalition_score=825.000
		our_spy_network="DAN"
		their_spy_network="DAN"
		their_spy_network="DTT"
		force_converted="---"
		last_election=1444.11.11
		delayed_treasure=0.554
		active_policy={
			policy="the_spy_discovery_act"
			date=1526.8.10
		}
		active_policy={
			policy="naval_school_act"
			date=1562.8.10
		}
		current_power_projection=29.000
		great_power_score=188.000
		power_projection={
			target="SWE"
			modifier="has_rival"
			current=15.000
		}
		power_projection={
			target="DAN"
			modifier="took_province_from_rival"
			current=12.283
		}
		power_projection={
			target="ENG"
			modifier="eclipsed_rival"
			current=1.783
		}
		navy_strength=13.78000
		total_war_worth=131
		num_owned_home_cores=34
		non_overseas_development=188.000
		num_of_controlled_cities=34
		num_of_ports=15
		num_of_core_ports=19
		num_of_total_ports=19
		num_of_cardinals=1
		num_of_cities=34
		num_of_provinces_in_states=34
		num_of_provinces_in_territories=0
		forts=5
		council_active=1
		historical_council=0
		num_of_allies=3
		num_of_royal_marriages=4
		num_of_heretic_provs=1
		inland_sea_ratio=0.866
		average_unrest=-7.508
		average_effective_unrest=0.484
		average_autonomy=7.317
		average_autonomy_above_min=6.541
		average_home_autonomy=7.317
		friend_tags={
			SWE SHL RSO
		}
		num_of_buildings_indexed={
			1=2 2=1 3=1 5=7 6=5
		}
		produced_goods_value={
			0.000 5.170 0.000 1.080 0.000 1.250 3.605 0.000 1.444 7.830 0.000 1.620 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.339 0.000 0.000 0.000 0.000 0.000 0.000
		}
		num_of_goods_produced={
			0 8 0 1 0 3 13 0 4 1 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0
		}
		traded={
			0.000 3.678 0.020 0.353 1.208 0.586 0.925 0.806 3.487 1.627 0.010 1.064 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.149 0.000 3.503 0.000 0.079 0.047 0.414 0.000 0.000
		}
		num_of_religions_indexed={
			1=33 4=1
		}
		num_of_religions_dev={
			1=185.000 4=3.000
		}
		num_of_leaders={
			1 3 0 0
		}
		num_of_leaders_with_traits={
			1 0 0 0
		}
		num_of_free_leaders={
			0 1 0 0
		}
		border_pct={
			5=0.642 233=0.357
		}
		border_sit={
			5=2.000 233=2.000
		}
		border_provinces={
			1 2 3 4 5 7 8 9 11 19 27 28 29 30 31 1930 1985 4113 4123 4151 4152 4163 4164 4166 18 4114 25 1777 26 35 36 1842 10 16
		}
		neighbours={
			DAN RUS
		}
		home_neighbours={
			DAN RUS
		}
		core_neighbours={
			DAN RUS
		}
		call_to_arms_friends={
			BOH KOJ FKN
		}
		allies={
			BOH KOJ FKN
		}
		extended_allies={
			BOH KOJ FKN
		}
		score_rating={
			6.956 11.426 6.512
		}
		score_rank={
			24 13 25
		}
		age_score={
			3.743 36.768 0.000 0.000
		}
		vc_age_score={
			0.000 0.000 0.000 0.000
		}
		score_place=26
		prestige=7.286
		stability=1.000
		treasury=484.771
		estimated_monthly_income=23.484
		inflation=4.154
		inflation_history={
			4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154 4.154
		}
		opinion_cache={
			0 0 0 0 100 -200 0 0 25 30 0 0 0 0 0 0 0 -90 25 -10 -90 -91 0 25 0 25 0 25 0 -100 0 -90 0 -90 25 0 -10 0 -90 25 -110 0 25 0 -100 -10 0 25 -100 25 0 0 0 0 25 25 -10 25 0 25 -20 25 -20 0 -100 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 25 25 25 25 0 0 25 -42 0 -90 -90 -90 -90 0 -21 25 25 0 25 -100 -100 0 0 0 25 25 0 25 0 42 0 35 0 0 0 -100 25 25 -20 25 0 200 132 25 25 25 -100 0 -90 -100 0 25 0 25 25 25 25 25 -20 25 0 25 25 0 25 25 0 -200 0 -2 0 -100 -100 0 25 -100 25 -100 25 25 -100 25 -100 -20 -200 25 25 0 -90 25 25 25 25 -100 0 0 0 0 0 0 25 -90 0 25 -9 0 25 25 25 0 0 25 0 -100 0 -100 -100 25 -20 25 0 25 -20 25 -10 0 -10 25 0 -100 -125 0 0 -90 -115 -70 0 -100 -10 -90 -175 -90 -10 0 -90 -200 -90 0 0 -90 -90 0 0 15 -90 0 0 -90 -90 0 -10 0 -10 0 -10 -90 -10 -10 0 -90 -10 -10 -90 0 -10 -10 -10 -10 0 -10 -10 -90 -90 0 -90 0 -90 -10 0 -70 0 -10 0 0 -10 -10 -10 -10 -10 -10 0 0 -90 -90 -90 0 -90 0 0 -10 -90 -10 -10 -10 -10 -10 -10 0 -10 0 0 -90 0 0 -10 -10 -90 -90 -90 -90 -10 -90 -10 -10 -90 -90 -10 -90 -10 -10 0 0 0 0 0 0 0 -90 -90 -10 -90 -90 0 -90 0 -90 -90 0 0 -90 -90 -90 -90 -10 -90 -10 -90 -10 -90 -10 -90 0 0 -10 -10 -10 -90 -10 0 -90 0 -90 0 0 0 0 -90 -10 0 -90 -10 -10 0 -10 0 -10 -10 -10 0 -10 -10 0 0 -10 -90 0 -90 -10 -90 -10 -90 -10 -90 -10 -10 -10 -10 0 -10 -10 -10 -10 -10 -10 -10 -90 -10 -10 -10 -10 0 -10 0 -10 -90 0 -90 -10 -90 0 -90 0 -10 0 -10 -10 0 -10 -90 0 -10 0 -10 -10 -10 -10 -10 -10 -10 -10 -10 -10 -10 -90 -10 -90 0 -10 -10 -10 -10 -10 -10 -10 -10 -10 -10 -10 -10 -90 -90 -90 -90 0 -90 -90 0 -90 -90 -90 0 -90 -10 -90 0 -90 0 -10 -90 -90 0 0 0 0 0 0 0 0 0 0 0 -10 -90 -90 -90 -10 -90 -90 -90 -90 0 -10 0 -10 0 0 -10 -90 -90 -90 -90 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 -90 -90 -10 -10 -90 0 0 0 0 0 -90 0 -90 -90 -90 -10 -90 -90 -10 -90 0 0 -10 0 -90 -90 -10 0 -90 -90 -10 -10 -10 0 -10 0 -10 -10 -10 0 -10 0 -10 -10 -10 -10 -10 -10 -10 -10 -10 0 -10 0 -90 -10 -10 0 -10 -10 -90 -90 -90 -10 -10 -10 -90 0 -90 0 -10 -90 -90 0 -10 0 0 -10 -10 -90 -90 0 -10 -90 -10 -10 -10 -10 0 -10 -10 -10 -10 -10 -10 -90 -10 0 -10 -90 -90 0 0 25 0 0 25 -90 0 100 0 0 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 0 -10 -90 0 -10 -10 -90 0 -90 -90 -10 -90 -90 -10 0 -10 -10 -10 -90 -90 0 -10 -10 0 -10 0 -10 -90 -10 -10 -10 -10 -10 0 -10 -90 -10 0 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -10 0 -10 0 0 0 -10 -90 -90 -10 0 0 0 -90 -10 -90 -90 -90 -10 -90 -90 -90 -90 -90 -90 -10 -90 -90 -90 -10 -90 -90 -90 -90 -90 -90 -10 -90 0 -10 0 -10 -90 0 -90 -90 -90 -90 -90 -90 -90 -90 -90 -90 -10 -90 -90 -90 -90 -90 -90 -10 -90 -10 -90 -90 -90 -90 0 0 0 0 -100 -125 -100 25 25 25 25 25 -100 25 -100 25 25 25 0 25 0 25 -100 -115 0 0 -10 -10 25 -20 25 25 0 0 0 0 25 0 0 0 0 25 0 114 0 0 0 0 25 25 25 25 -100 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
		}
		under_construction={
			0 0 0 0 0 0 0
		}
		under_construction_queued={
			0 0 0 0 0 0 0
		}
		total_count={
			10 2 6 1 11 35 11
		}
		owned_provinces={
			1 2 3 4 5 7 8 9 11 19 27 28 29 30 31 1930 1985 4113 4123 4151 4152 4163 4164 4166 18 4114 25 1777 26 35 36 1842 10 16
		}
		controlled_provinces={
			3 30 31 25 8 1 28 1930 27 4113 2 1777 29 4123 4166 18 11 9 4114 4 19 4151 4164 5 1985 7 4152 4163 26 35 36 1842 10 16
		}
		core_provinces={
			1 2 3 4 5 7 8 9 11 19 25 27 28 29 30 31 1930 1985 4113 4123 4151 4152 4163 4164 4166 18 4114 1777 26 16 10 1842 35 36
		}
		claim_provinces={
			33 6 1982 4165 1834 37 38 1776 39 315 20
		}
		idea_may_cache={
			0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
		}
		update_opinion_cache=no
		needs_refresh=no
		casus_bellis_refresh=no
		needs_rebel_unit_refresh=no
		land_maintenance=0.000
		naval_maintenance=0.000
		colonial_maintenance=1.000
		missionary_maintenance=1.000
		army_tradition=28.545
		navy_tradition=59.725
		last_war_ended=1568.3.18
		num_uncontested_cores=0
		ledger={
			income={
				38.934 47.144 28.406 0.000 0.000 0.000 0.000 0.000 2.808 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000
			}
			expense={
				11.470 0.000 6.575 0.000 0.000 0.000 39.840 6.665 23.500 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 6.455 0.000 0.000 0.000 0.000 0.000 0.000 0.000
			}
			thismonthincome={
				0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.554 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000
			}
			lastmonthincome=23.484
			lastmonthincometable={
				7.792 9.431 5.696 0.000 0.000 0.000 0.000 0.000 0.565 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000
			}
			lastmonthexpense=18.902
			lastmonthexpensetable={
				2.294 0.000 1.315 0.000 0.000 0.000 7.968 1.333 4.700 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 1.292 0.000 0.000 0.000 0.000 0.000 0.000 0.000
			}
			totalexpensetable={
				2608.022 57.946 1521.644 0.000 0.000 0.000 8374.706 1375.342 6190.311 0.000 7.096 1316.215 1311.660 0.000 800.900 0.000 801.142 40.000 207.360 443.473 0.000 0.000 0.000 0.000 0.000 0.000 0.000 1590.389 1168.985 0.000 0.000 0.000 0.000 12.004 45.251
			}
			lastyearincome={
				93.121 112.908 68.614 0.000 0.000 0.000 0.000 0.000 7.044 101.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000
			}
			lastyearexpense={
				27.440 0.000 15.780 0.000 0.000 0.000 95.616 15.996 56.400 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 15.938 0.000 0.000 0.000 0.000 0.000 0.000 0.000
			}
		}
		loan_size=6
		estimated_loan=16.920
		religious_unity=0.984
		devotion=0.000
		meritocracy=0.000
		papal_influence=16.462
		corruption=1.571
		root_out_corruption_slider=0.149
		legitimacy=86.303
		mercantilism=11.000
		splendor=91.000
		army_professionalism=0.29272
		max_historic_army_professionalism=0.29272
		active_idea_groups={
			SWE_ideas=7
			administrative_ideas=7
			defensive_ideas=7
			maritime_ideas=7
			offensive_ideas=1
		}
		advisor={
			id=35826
			type=51
		}
		advisor={
			id=36200
			type=51
		}
		government={
			government="monarchy"
			reform_stack={
				reforms={
					"monarchy_mechanic"
					"feudalism_reform"
					"quash_noble_power_reform"
					"centralize_reform"
					"meritocratic_focus_reform"
					"general_estates_reform"
					"letat_cest_moi_reform"
				}
				history={
					"feudalism_reform"
					"quash_noble_power_reform"
					"centralize_reform"
					"meritocratic_focus_reform"
					"general_estates_reform"
					"letat_cest_moi_reform"
				}
			}
		}
		merchants={
			envoy={
				action=2
				name="Rettil Cronstedt"
				type=1
				id=0
			}
			envoy={
				action=2
				name="Karl Gustav Leijonhufvud"
				type=1
				id=1
			}
		}
		missionaries={
			envoy={
				name="Sten Palmstruch"
				type=2
				id=0
			}
			envoy={
				name="Patrik Gathenhielm"
				type=2
				id=1
			}
			envoy={
				name="G�ran Love Hj�rne"
				type=2
				id=2
			}
		}
		diplomats={
			envoy={
				action=2
				name="Folke Gyllenhielm"
				type=3
				id=0
			}
			envoy={
				action=2
				name="Inge Ehrensv�rd"
				type=3
				id=1
			}
			envoy={
				action=2
				name="Folke Fleming"
				type=3
				id=2
			}
			envoy={
				name="Simon Gustavsson"
				type=3
				id=3
			}
		}
		modifier={
			modifier="de_heretico_comburendo"
			date=-1.1.1
		}
		modifier={
			modifier="the_blasphemy_act"
			date=-1.1.1
		}
		modifier={
			modifier="vasa_centralization_reforms"
			date=-1.1.1
		}
		modifier={
			modifier="the_conventicle_act"
			date=-1.1.1
		}
		modifier={
			modifier="counter_reformation"
			date=-1.1.1
		}
		modifier={
			modifier="pap_higher_curia_contribution_hidden_modifier"
			date=1578.5.6
			hidden=yes
		}
		modifier={
			modifier="church_functions"
			date=1582.4.17
		}
		modifier={
			modifier="hire_privateers"
			date=-1.1.1
		}
		modifier={
			modifier="consort_mil_advice"
			date=1583.7.1
		}
		modifier={
			modifier="swedish_military_reforms"
			date=-1.1.1
		}
		modifier={
			modifier="naval_reform"
			date=1581.5.2
		}
		modifier={
			modifier="papal_sanction_for_church_taxes"
			date=1592.2.5
		}
		modifier={
			modifier="cardinal_in_administration"
			date=1594.9.24
		}
		modifier={
			modifier="faster_ships"
			date=1584.10.13
		}
		manpower=39.701
		max_manpower=39.644
		sailors=5008.247
		max_sailors=5156.000
		sub_unit={
			infantry="spanish_tercio"
			cavalry="french_caracolle"
			artillery="small_cast_iron_bombard"
			heavy_ship="carrack"
			light_ship="caravel"
			galley="galleass"
			transport="brig"
		}
		num_of_captured_ships_with_boarding_doctrine=1
		mercenary_company={
			id={
				id=1
				type=59
			}
			tag="merc_finnish_company"
			progress=no
			manpower=0.000
			starting_manpower=0.000
			leader={
				name="Hintsa Fleming"
				type=general
				mercenary=yes
				manuever=3
				fire=3
				shock=4
				siege=1
				activation=1572.1.22
				birth_date=1556.1.22
				id={
					id=20215
					type=49
				}
			}
			unit={
				id=0
				type=0
			}

			hiring_date=1.1.1
			disband_date=1.1.1
		}
		mercenary_company={
			id={
				id=2
				type=59
			}
			tag="merc_free_swiss_guard"
			progress=no
			manpower=0.000
			starting_manpower=0.000
			leader={
				name="Ruprecht von Hohenlohe"
				type=general
				mercenary=yes
				manuever=4
				shock=2
				siege=2
				activation=1573.3.7
				birth_date=1557.3.7
				id={
					id=20309
					type=49
				}
			}
			unit={
				id=0
				type=0
			}

			hiring_date=1.1.1
			disband_date=1.1.1
		}
		mercenary_company={
			id={
				id=20128
				type=59
			}
			tag="merc_gascon_musket_company"
			progress=no
			manpower=0.000
			starting_manpower=0.000
			leader={
				name="Louis de Saboulin"
				type=general
				mercenary=yes
				fire=2
				shock=1
				siege=1
				activation=1557.11.6
				birth_date=1541.11.6
				id={
					id=18700
					type=49
				}
			}
			unit={
				id=0
				type=0
			}

			hiring_date=1.1.1
			disband_date=1.1.1
		}
		mercenary_company={
			id={
				id=36189
				type=59
			"""

info = test_string
tag = "TEST"
ae = compile("modifier=\"aggressive_expansion\"[^}]+?current_opinion=(-\d+.\d+)", DOTALL)
nation_data = {}
parse_relations(info, tag, ae, nation_data)


regiment_strength = compile("strength=(\d.\d+)")

parse_regiments(test_string2, tag, regiment_strength, nation_data)

parse_ships(test_string2, tag, nation_data)

score = compile("age_score={(?P<age_score>[^}].+?)}.+?vc_age_score={(?P<vc_age_score>[^}].+?)}", DOTALL)

compile_score(content, tag, 1, score)
